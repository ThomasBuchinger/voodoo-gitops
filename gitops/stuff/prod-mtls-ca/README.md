# mTLS Details

This repository only contains the private key. The Certificate for the Root-CA is generated by cert-manager (if `spec.secretName` exists and contains a Key, it is reused). You can re-generate the Key using this command:

```shell
openssl req -x509 -newkey rsa:4096 -keyout secrets/stuff/prod-mtls-ca/tls.key -out secrets/stuff/prod-mtls-ca/tls.crt -sha256 -days 3650 -nodes -subj "/C=AT/L=Vienna/CN=BUC LAB mTLS Root CA"
kubectl create secret tls mtls-buc-root-ca --cert secrets/stuff/prod-mtls-ca/tls.crt --key secrets/stuff/prod-mtls-ca/tls.key --dry-run=client -o yaml > secrets/stuff/prod-mtls-ca/mtls-buc-root-ca.yaml

```

Device Certificates are signed directly by the Root-CA

(Maybe) To allow temporary access from unknown devices, a intermediary CA could be used to issue Certificates with only 24h lifetime